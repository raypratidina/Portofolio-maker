// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
}

model User {
  id        String   @id @default(cuid())
  email     String   @unique
  password  String
  name      String?
  role      String?
  bio       String?
  country   String?
  avatar    String?
  cvUrl     String?
  worksIntro String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  experiences Experience[]
}

model Experience {
  id          String   @id @default(cuid())
  company     String
  role        String
  startDate   DateTime
  endDate     DateTime?
  current     Boolean  @default(false)
  description String?
  location    String?
  type        String?  // Full-time, Contract, etc.
  logo        String?
  userId      String
  user        User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Project {
  id               String   @id @default(cuid())
  title            String
  slug             String   @unique
  category         String
  thumbnail        String?
  descriptionShort String?
  descriptionLong  String?
  client           String?
  role             String?
  year             String?
  technologies     String?
  link             String?
  status           String   @default("DRAFT") // DRAFT, PUBLISHED
  featured         Boolean  @default(false)
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
  media            Media[]
}

model Media {
  id        String   @id @default(cuid())
  url       String
  type      String   // IMAGE, VIDEO
  projectId String?
  project   Project? @relation(fields: [projectId], references: [id], onDelete: Cascade)
  createdAt DateTime @default(now())
}
